<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>代码飞升：全栈修仙传</title>
    <link rel="stylesheet" href="./css/style.css">
</head>
<body>

<div id="game-container">
    <canvas id="gameCanvas"></canvas>

    <!-- UI 界面 -->
    <div class="ui-layer">
        <div class="hud">
            <div>
                <div class="bar-box">
                    <div class="bar-bg"><div id="hp-bar" class="bar-fill"></div></div>
                    <div class="status-text"><span>HP (精神值)</span><span id="hp-text">100/100</span></div>
                </div>
                <div class="bar-box">
                    <div class="bar-bg"><div id="exp-bar" class="bar-fill"></div></div>
                    <div class="status-text"><span>KPI (绩效)</span><span id="exp-text">0%</span></div>
                </div>
            </div>
            <div style="text-align: right;">
                <div id="score-display" style="color: #ffd700; font-size: 20px;">BUGS: 0</div>
                <div id="lvl-display" style="font-size: 14px; color: #00ffff; margin-top: 5px;">实习生</div>
            </div>
        </div>
        <div class="controls">
            ESC 暂停 | 鼠标左键 暂停 | WASD/方向键 移动
        </div>
    </div>

    <!-- 1. 门派选择 (开始界面) -->
    <div id="select-screen" class="modal-overlay">
        <div class="modal-content">
            <h1>请选择技术栈</h1>
            <p>不同的选择，将面对不同的 Bug 与 命运。</p>

            <div class="faction-container">
                <!-- 前端 -->
                <div class="faction-card" onclick="Game.start('web')">
                    <span class="f-icon">🎨</span>
                    <span class="f-title">前端开发</span>
                    <span class="f-desc">
                        武器: Console.log<br>
                        特点: 攻速极快，但身板脆<br>
                        宿敌: 兼容性报错
                    </span>
                </div>
                <!-- 后端 -->
                <div class="faction-card" onclick="Game.start('java')">
                    <span class="f-icon">☕</span>
                    <span class="f-title">后端架构</span>
                    <span class="f-desc">
                        武器: SQL 注入<br>
                        特点: 伤害高，范围大<br>
                        宿敌: 数据库死锁
                    </span>
                </div>
                <!-- 移动端 -->
                <div class="faction-card" onclick="Game.start('mobile')">
                    <span class="f-icon">📱</span>
                    <span class="f-title">移动终端</span>
                    <span class="f-desc">
                        武器: HotFix 补丁<br>
                        特点: 初始多弹道，移速快<br>
                        宿敌: 闪退 Crash
                    </span>
                </div>
            </div>
        </div>
    </div>

    <!-- 2. 暂停菜单 -->
    <div id="pause-screen" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>摸鱼中...</h2>
            <button class="btn" onclick="Game.togglePause()">继续工作</button>
            <button class="btn" style="background:#ff4d4d; color:white;" onclick="location.reload()">删库跑路 (重开)</button>
        </div>
    </div>

    <!-- 3. 升级选择 -->
    <div id="upgrade-screen" class="modal-overlay hidden">
        <div class="modal-content">
            <h2>职级晋升！</h2>
            <p>绩效考核达标，获得新的技术能力：</p>
            <div class="faction-container" id="skill-container">
                <!-- JS 生成 -->
            </div>
        </div>
    </div>

    <!-- 4. 死亡结算 -->
    <div id="game-over-screen" class="modal-overlay hidden">
        <div class="modal-content">
            <h1 style="color: #ff4d4d;">35岁危机 (Game Over)</h1>
            <p>你被 Bug 淹没了，精神值耗尽。</p>
            <div style="margin: 20px 0; font-size: 18px;">
                最终职位: <span id="end-lvl" style="color:#00ffff">--</span><br>
                修复 Bugs: <span id="end-score" style="color:#ffd700">--</span>
            </div>
            <button class="btn" onclick="location.reload()">投递简历 (重开)</button>
        </div>
    </div>
</div>

<script src="./js/game.js"></script>
</body>
</html>


